# The OSI Model: Overview
OSI (Open Systems Interconnection) is a standardised model which we you to demonstrate the theory behind computer networking. It's actually the moew compact TCP/IP model.

![OSI](https://muirlandoracle.co.uk/wp-content/uploads/2020/02/OSI-Table.png)

Take a look:
**Layer 7. Application**
Providing networking options to programs running on a computer. It works almost exclusively with applications, providing an interface for them to use in order to transmit data.
Consists of: Client & Server


**Layer 6. Presentation**
Ensure that the date from the sending computer is displayed the same with the receiving computer.

Sending (ASCII) _transition_ Receiving (EBCDIC) _data compression_ _encryption_

**Layer 5. Session**
Set up a connection with the other computer accross the network. If a session can be established, layer 5 will maintain it, as well as co-operarte with the session layer of the remote computer in order to synchronise communications.
- Authentication: xác thực
- Authrixation: kiểm tra quyền truy cập vào vị trí nào (thư mục, data)

**Layer 4. Transport** *end-to-end* *segment/datagram*
- Choose the protocol over with the data is to be transmitted: TCP and UDP.
  + TCP - *connection-based*: A connection between the computers is established and maintained for the duration of the request. Reliable transmission, *all* packages get to the right place.
  + UDP: packets of data are essentially thrown at the receiving computer. Speed is more important.

- Gồm các công việc:
  + Segmentation: divides and packs data into the packet (segment/datagram).
  + Flow control: điều khiển luồn data từ gửi -> nhận, tránh tràn ngập data.
  + Error Control: phát hiện lỗi.

- Gồm 3 nghi thức:
  + Connection: hướng kết nối, tạo kết nối trước khi gửi
  + Connectionless: hướng k kết nối.

**Layer 3. Network** *host-to-host* - *segment*
 - Path determination: Taking the IP address and figures out the best route to take.
 - Chức năng: Routing

**Layer 2. Data Link** *link-to-link* *frame*
Focuses on the *physical* addressing - MAC. MAC address is on the NIC and can't be changed, but it can be *spoofed*.
- Error Detection: make sure that it hasn't been corrupted during transmission.

**Layer 1. Physical** 
Convert the BITs (binary data) into the signals and transmit them accross the network.
Ex: cáp quang -> ánh sáng, dây đồng -> điện, air -> vô tuyến.

# Encapsulation (đóng gói)
![encapsulation](https://muirlandoracle.co.uk/wp-content/uploads/2020/02/image.jpeg)

When the message is received by the second computer, it reverses the process -- starting at the layer 1 and working up until it reach the layer 7 => *de-encapsulation*

# The TCP/IP Model
![TCP/IP](https://muirlandoracle.co.uk/wp-content/uploads/2020/02/image-3.png)

TCP is a *connection-based* protocol. Before you send any data via TCP, you must first form a stable connection between the computers - *three-way handshaking*

![three-way handshaking](https://muirlandoracle.co.uk/wp-content/uploads/2020/03/image-2.png)

1. The client sent a SYN request to the server: want to intialise (khởi tạo) a connection.
2. Server will then respond with a packet containing the SYN bit and ACK bit: SYN/ACK
3. Finally, the client will send a packet contains the ACK bit, confirming that the connection has been setup successfully.

Data can be reliably transmitted between the client - server. Any data that is lost or corrupted is re-sent.

# DNS
How a URL gets coverted into an IP address that your computer understand? -- a TCP/IP called **DNS (Domain Name System)**

**DNS allow us:** To ask a server to give us the IP address of the website. Ex: 
1. We made a request to www.google.com
2. Computer send a request to DNS Server
3. The server would then go looking for the IP address and send back to us
4. Our computer send the request to the IP of the Google Server

**Break down it a bit**
 1. You make a request to a website
 
 2. Your computer checks its local "Hosts File" to see if an explicit IP -> Domain mapping has been created.
 
 3. If no mapping: the computer checks its local DNS cache to see if it already has an IP address stored for the website
    + Yes? great => ---*End here*---
    + No? It goes to the next stage

4. Your computer send a request to *recursive* DNS server.
   **Note**: Many Internet Service Providers maintain there own recursive servers (Google, OpenDNS) - are stored in your route/computer. It's also maintain a cache for popular domains.

5. If the website you've requested is stored in the cache ---*End here*---

6. If it's not, the recursive server will pass the request to *the root name server*

7. The root name server will choose an appropriate one to redirect your request to. These lower level servers are called *Top-Level Domain server*

8. TLD servers are split up into extensions
   Ex: tryhackme.com => your request would be redirected to a TLD server that handled *.com* domains.
   TLD keep track of the next level domain: *Authoritative name servers*

9. The TLD server receives your request for information and passes it down to an appropriate Authoritative name server.

10. Authoritative name serever are used to store DNS records for domain directly. Your request reaches the authoritative name server of the domain you'r querying => it will send the relevant information back to you ---*End here*---
   

